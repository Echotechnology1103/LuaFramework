---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by win 10.
--- DateTime: 2018/10/10 10:53
---
MountStarsItem = MountStarsItem or class("MountStarsItem", BaseItem)
local this = MountStarsItem

function MountStarsItem:ctor(parent_node)
    self.image_ab = "dungeon_image";
    self.layer = "UI"
    self.transform = parent_node.transform
    --self.parentNode = parentNode;
    self.gameObject = self.transform.gameObject;
    self.transform_find = self.transform.Find;
    self.model = DungeonModel.GetInstance()
    self.events = {};
    self.schedules = {};

    self:Init();
end

function MountStarsItem:dctor()
    self.model = nil;
    GlobalEvent:RemoveTabListener(self.events);
    self.starTab = nil;
end

function MountStarsItem:Open(data)
    self.data = data;
    WindowPanel.Open(self)
end

function MountStarsItem:Init()
    self.is_loaded = true;
    self.nodes = {
        "star_9", "star_6", "star_2", "star_8", "star_10", "star_3", "star_4", "star_7", "star_1", "star_5",
    }
    self:GetChildren(self.nodes)

    --if self.isResetPos then
    --    SetLocalPosition(self.transform, 0, 0, 0)
    --end

    self:InitUI();

    self:AddEvent();
end

function MountStarsItem:InitUI()
    self.starTab = {};

    for i = 1, 10 do
        local name = "star_" .. i;
        self.starTab[i] = GetToggle(self[name]);
        self.starTab[i].isOn = false;
    end
end


function MountStarsItem:AddEvent()


end

function MountStarsItem:OpenStars(level)
    for i = 1, 10, 1 do
        if i <= level then
            self.starTab[i].isOn = true;
        else
            self.starTab[i].isOn = false;
        end
    end
end

function MountStarsItem:ShowStars(num , bool)
    bool = toBool(bool);
    for i = num, #self.starTab, 1 do
        SetGameObjectActive(self.starTab[i].gameObject , bool);
    end
end

function MountStarsItem:AllOn(bool)
    bool = toBool(bool);
    for i = 1, 10, 1 do
        self.starTab[i].isOn = bool;
    end
end