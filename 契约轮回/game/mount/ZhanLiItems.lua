---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by win 10.
--- DateTime: 2018/10/10 10:53
---
ZhanLiItems = ZhanLiItems or class("ZhanLiItems", Node)
local this = ZhanLiItems

function ZhanLiItems:ctor(parent_node , isResetPos)
    self.abName = "dungeon";
    self.image_ab = "dungeon_image";
    self.assetName = "zhanLiItems"
    self.layer = "UI"
    self.isResetPos = isResetPos == nil and true or isResetPos;
    self.transform = parent_node.transform
    --self.parentNode = parentNode;
    self.gameObject = self.transform.gameObject;
    self.transform_find = self.transform.Find;

    self.model = DungeonModel.GetInstance()
    self.events = {};
    self.schedules = {};

    self:Init();
end

function ZhanLiItems:Load()
    ZhanLiItems.super.Load(self)
end

function ZhanLiItems:dctor()
    self.model = nil;
    GlobalEvent:RemoveTabListener(self.events);
    self:StopAllSchedules()
end

function ZhanLiItems:Open(data)
    self.data = data;
    WindowPanel.Open(self)
end

function ZhanLiItems:Init()
    self.is_loaded = true;
    self.nodes = {
        "zhanli_bg/zhanlibgup","zhanliText","zhanliUp",
    }
    self:GetChildren(self.nodes)

    if self.isResetPos then
        SetLocalPosition(self.transform, 0, 0, 0)
    end


    self:InitUI();

    self:AddEvent();
end

function ZhanLiItems:InitUI()
    self.zhanliText = GetText(self.zhanliText);
    self.zhanliUp = GetText(self.zhanliUp);
end

function ZhanLiItems:UpdateZhanli(num , up)
    if num then
        self.zhanliText.text = tostring(num);
    end
    if up then
        self.zhanliUp.text = tostring(up);
    end
    if tostring(up) == "0" then
        SetGameObjectActive(self.zhanliUp , false);
        SetGameObjectActive(self.zhanlibgup , false);
    else
        SetGameObjectActive(self.zhanliUp , true);
        SetGameObjectActive(self.zhanlibgup , true);
    end
end


function ZhanLiItems:StopAllSchedules()
    for i = 1, #self.schedules, 1 do
        GlobalSchedule:Stop(self.schedules[i]);
    end
    self.schedules = {};
end


function ZhanLiItems:AddEvent()


end